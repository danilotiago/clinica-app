<form #form="ngForm" class="list-form" [formGroup]="formGroup" (submit)="submit()">

  <ion-item>
    <ion-label class="label-login" position="floating">
      <ion-icon name="person" item-start class="text-primary"></ion-icon>
      Nome
    </ion-label>
    <ion-input formControlName="name" type="text"></ion-input>
  </ion-item>

  <div class="errors">

    <ion-label color="danger" *ngIf="
      formGroup.get('name').errors?.startsWithBlanks 
      && (form.submitted || formGroup.get('name').updateOn)">
      * O nome não deve iniciar com caracteres em branco
    </ion-label>

    <ion-text color="danger" *ngIf="
      formGroup.get('name').errors?.notMinlength 
      && (form.submitted || formGroup.get('name').touched)">
      * O nome deve ter no mínimo 3 caracteres
    </ion-text>

    <ion-text color="danger" *ngIf="
      formGroup.get('name').errors?.notMaxlength 
      && (form.submitted || formGroup.get('name').updateOn)">
      * O nome deve ter no máximo 50 caracteres
    </ion-text>

  </div>

  <ion-item>
    <ion-label class="label-login" position="floating">
      <ion-icon name="person" item-start class="text-primary"></ion-icon>
      Imagem
    </ion-label>
    <ion-input formControlName="image" type="text"></ion-input>
  </ion-item>

  <div class="errors">

    <ion-label color="danger" *ngIf="
      formGroup.get('image').errors?.startsWithBlanks 
      && (form.submitted || formGroup.get('image').updateOn)">
      * A imagem não deve iniciar com caracteres em branco
    </ion-label>

    <ion-text color="danger" *ngIf="
      formGroup.get('image').errors?.notMinlength 
      && (form.submitted || formGroup.get('image').touched)">
      * A imagem deve ter no mínimo 2 caracteres
    </ion-text>

    <ion-text color="danger" *ngIf="
      formGroup.get('image').errors?.notMaxlength 
      && (form.submitted || formGroup.get('image').updateOn)">
      * A imagem deve ter no máximo 50 caracteres
    </ion-text>

  </div>

  <ion-item>
    <ion-label class="label-login" position="floating">
      <ion-icon name="person" item-start class="text-primary"></ion-icon>
      Descrição
    </ion-label>
    <ion-input formControlName="description" type="text"></ion-input>
  </ion-item>

  <div class="errors">

    <ion-text color="danger" *ngIf="
      formGroup.get('description').errors?.notMaxlength 
      && (form.submitted || formGroup.get('description').updateOn)">
      * A descrição deve ter no máximo 50 caracteres
    </ion-text>

  </div>

  <ion-grid>
    <ion-row>
      <ion-col size="9">
        <div>
          <ion-item>
            <ion-label class="label-login" position="floating">
              <ion-icon name="person" item-start class="text-primary"></ion-icon>
              Procedimentos
            </ion-label>
            <ion-input 
              type="text" 
              [value]="procedure"
              (keyup)="procedure = $event.target.value"
            ></ion-input>
          </ion-item>
        </div>
      </ion-col>
      <ion-col>
        <div>
          <ion-button 
          class="btn-procedure-save" 
          size="small" 
          fill="outline" 
          color="clinica-secondary"
          (click)="addProcedure()"
          >+
          </ion-button>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-item-group>
    <ion-item *ngFor="let procedure of this.procedures">
      <ion-label>{{procedure}}</ion-label>
      <ion-badge 
        slot="end" 
        color="light"
        (click)="removeProcedure(procedure)"
      >x</ion-badge>
    </ion-item>
  </ion-item-group>

  <div class="ion-text-center marginT-2">
    <ion-button [disabled]="formGroup.invalid" type="submit" fill="outline" color="clinica-secondary">{{actionButton}}
    </ion-button>
  </div>

</form>